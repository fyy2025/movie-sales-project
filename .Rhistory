ggplot(diamonds,aes(x=depth,y=price))+
geom_point()
ggplot(diamonds,aes(x=table,y=price))+
geom_boxplot()
ggplot(diamonds,aes(x=x,y=price))+
geom_point()
ggplot(diamonds,aes(x=y,y=price))+
geom_point()
ggplot(diamonds,aes(x=z,y=price))+
geom_point()
names(diamonds)
par(mfrow=c(3,3))
ggplot(diamonds,aes(x=carat,y=price))+
geom_point()
ggplot(diamonds,aes(x=cut,y=price))+
geom_boxplot()
ggplot(diamonds,aes(x=color,y=price))+
geom_boxplot()
ggplot(diamonds,aes(x=clarity,y=price))+
geom_boxplot()
ggplot(diamonds,aes(x=depth,y=price))+
geom_point()
ggplot(diamonds,aes(x=table,y=price))+
geom_point()
ggplot(diamonds,aes(x=x,y=price))+
geom_point()
ggplot(diamonds,aes(x=y,y=price))+
geom_point()
ggplot(diamonds,aes(x=z,y=price))+
geom_point()
-1.5*0.2+2.2*0.15+2.7*0.35+3.5*0.1+9.8*0.2
names(diamonds)
par(mfrow=c(3,3))
ggplot(diamonds,aes(x=carat,y=price))+
geom_point()
ggplot(diamonds,aes(x=cut,y=price))+
geom_boxplot()
ggplot(diamonds,aes(x=color,y=price))+
geom_boxplot()
ggplot(diamonds,aes(x=clarity,y=price))+
geom_boxplot()
ggplot(diamonds,aes(x=depth,y=price))+
geom_point()
ggplot(diamonds,aes(x=table,y=price))+
geom_point()
ggplot(diamonds,aes(x=x,y=price))+
geom_point()
ggplot(diamonds,aes(x=y,y=price))+
geom_point()
ggplot(diamonds,aes(x=z,y=price))+
geom_point()
ggplot(diamonds,aes(x=carat,y=cut))+
geom_point()
names(diamonds)
par(mfrow=c(3,3))
ggplot(diamonds,aes(x=carat,y=price))+
geom_point()
ggplot(diamonds,aes(x=cut,y=price))+
geom_boxplot()
ggplot(diamonds,aes(x=color,y=price))+
geom_boxplot()
ggplot(diamonds,aes(x=clarity,y=price))+
geom_boxplot()
ggplot(diamonds,aes(x=carat,y=cut))+
geom_point()
names(diamonds)
par(mfrow=c(3,3))
ggplot(diamonds,aes(x=carat,y=price))+
geom_point()
ggplot(diamonds,aes(x=cut,y=price))+
geom_boxplot()
ggplot(diamonds,aes(x=color,y=price))+
geom_boxplot()
ggplot(diamonds,aes(x=clarity,y=price))+
geom_boxplot()
ggplot(diamonds,aes(x=cut,y=carat))+
geom_boxplot()
library(lvplot)
ggplot(diamonds,aes(x=cut,y=price))+
geom_lv()
diamonds%>%
group_by(color,cut)%>%
mutate(n=n())%>%
ungroup()%>%
group_by(color)%>%
mutate(prop=n/sum(n))%>%
ggplot(aes(x=color,y=cut))+
geom_tile(aes(color=prop))
diamonds%>%
group_by(color,cut)%>%
mutate(n=n())%>%
ungroup()%>%
group_by(color)%>%
mutate(prop=n/sum(n))%>%
ggplot(aes(x=color,y=cut))+
geom_tile(aes(fill=prop))
diamonds%>%
group_by(color,cut)%>%
mutate(n=n())%>%
ungroup()%>%
group_by(color)%>%
mutate(prop=n/sum(n))
ggplot(aes(x=color,y=cut))+
geom_tile(aes(fill=prop))
diamonds%>%
group_by(color,cut)%>%
mutate(n=n())%>%
ungroup()%>%
group_by(color)%>%
mutate(prop=n/sum(n))
#ggplot(aes(x=color,y=cut))+
#geom_tile(aes(fill=prop))
diamonds%>%
group_by(color,cut)%>%
mutate(n=n())
ungroup()%>%
group_by(color)%>%
mutate(prop=n/sum(n))
diamonds%>%
group_by(color,cut)%>%
mutate(n=n())
#ungroup()%>%
#group_by(color)%>%
#mutate(prop=n/sum(n))
#ggplot(aes(x=color,y=cut))+
#geom_tile(aes(fill=prop))
diamonds%>%
group_by(color,cut)%>%
summarize(n=n())
#ungroup()%>%
#group_by(color)%>%
#mutate(prop=n/sum(n))
#ggplot(aes(x=color,y=cut))+
#geom_tile(aes(fill=prop))
diamonds%>%
group_by(color,cut)%>%
summarize(n=n())
ungroup()%>%
group_by(color)%>%
mutate(prop=n/sum(n))
diamonds%>%
group_by(color,cut)%>%
summarize(n=n())%>%
ungroup()%>%
group_by(color)%>%
mutate(prop=n/sum(n))
ggplot(aes(x=color,y=cut))+
geom_tile(aes(fill=prop))
diamonds%>%
group_by(color,cut)%>%
summarize(n=n())%>%
ungroup()%>%
group_by(color)%>%
mutate(prop=n/sum(n))%>%
ggplot(aes(x=color,y=cut))+
geom_tile(aes(fill=prop))
#cut within color
diamonds%>%
group_by(color,cut)%>%
summarize(n=n())%>%
ungroup()%>%
group_by(color)%>%
mutate(prop=n/sum(n))%>%
ggplot(aes(x=color,y=cut))+
geom_tile(aes(fill=prop))
#color within cut
diamonds%>%
group_by(color,cut)%>%
summarize(n=n())%>%
ungroup()%>%
group_by(cut)%>%
mutate(prop=n/sum(n))%>%
ggplot(aes(x=cut,y=color))+
geom_tile(aes(fill=prop))
flights%>%
group_by(month,dest)%>%
summarize(n=n(),
ave_delay=mean(dep_delay,na.rm=T))%>%
ggplot(aes(x=month,y=dest))+
geom_tile(aes(fill=ave_delay))
library(nycflights13)
flights%>%
group_by(month,dest)%>%
summarize(n=n(),
ave_delay=mean(dep_delay,na.rm=T))%>%
ggplot(aes(x=month,y=dest))+
geom_tile(aes(fill=ave_delay))
library(nycflights13)
flights%>%
group_by(month,dest)%>%
summarize(n=n(),
ave_delay=mean(dep_delay,na.rm=T))%>%
ggplot(aes(x=factor(month),y=dest))+
geom_tile(aes(fill=ave_delay))
library(nycflights13)
flights%>%
group_by(month,dest)%>%
summarize(n=n(),
ave_delay=mean(dep_delay,na.rm=T))%>%
filter(!is.na(ave_delay))
ggplot(aes(x=factor(month),y=dest))+
geom_tile(aes(fill=ave_delay))
library(nycflights13)
flights%>%
group_by(month,dest)%>%
summarize(n=n(),
ave_delay=mean(dep_delay,na.rm=T))%>%
filter(!is.na(ave_delay))%>%
ggplot(aes(x=factor(month),y=dest))+
geom_tile(aes(fill=ave_delay))
library(nycflights13)
flights%>%
group_by(month,dest)%>%
summarize(n=n(),
ave_delay=mean(dep_delay,na.rm=T))%>%
filter(!is.na(ave_delay))%>%
ggplot(aes(x=dest,y=factor(month)))+
geom_tile(aes(fill=ave_delay))
library(nycflights13)
flights%>%
group_by(month,dest)%>%
summarize(n=n(),
ave_delay=mean(dep_delay,na.rm=T))%>%
filter(!is.na(ave_delay))%>%
ggplot(aes(x=dest,y=factor(month)))+
geom_tile(aes(fill=ave_delay))
flights%>%
group_by(dest)%>%
filter(n()>100)%>%
group_by(dest,month)%>%
summarize(n=n(),
ave_delay=mean(dep_delay,na.rm=T))%>%
filter(!is.na(ave_delay))%>%
ggplot(aes(x=dest,y=factor(month)))+
geom_tile(aes(fill=ave_delay))
library(nycflights13)
flights%>%
group_by(month,dest)%>%
summarize(n=n(),
ave_delay=mean(dep_delay,na.rm=T))%>%
filter(!is.na(ave_delay))%>%
ggplot(aes(x=dest,y=factor(month)))+
geom_tile(aes(fill=ave_delay))
flights%>%
group_by(dest)%>%
filter(n()>100)%>%
group_by(dest,month)%>%
summarize(n=n(),
ave_delay=mean(dep_delay,na.rm=T))%>%
filter(!is.na(ave_delay))%>%
ggplot(aes(x=factor(month),y=dest))+
geom_tile(aes(fill=ave_delay))
library(nycflights13)
flights%>%
group_by(month,dest)%>%
summarize(n=n(),
ave_delay=mean(dep_delay,na.rm=T))%>%
filter(!is.na(ave_delay))%>%
ggplot(aes(x=dest,y=factor(month)))+
geom_tile(aes(fill=ave_delay))
flights%>%
group_by(dest)%>%
filter(n()>500)%>%
group_by(dest,month)%>%
summarize(n=n(),
ave_delay=mean(dep_delay,na.rm=T))%>%
filter(!is.na(ave_delay))%>%
ggplot(aes(x=factor(month),y=dest))+
geom_tile(aes(fill=ave_delay))
library(nycflights13)
flights%>%
group_by(month,dest)%>%
summarize(n=n(),
ave_delay=mean(dep_delay,na.rm=T))%>%
filter(!is.na(ave_delay))%>%
ggplot(aes(x=dest,y=factor(month)))+
geom_tile(aes(fill=ave_delay))
flights%>%
group_by(dest)%>%
filter(n()>1000)%>%
group_by(dest,month)%>%
summarize(n=n(),
ave_delay=mean(dep_delay,na.rm=T))%>%
filter(!is.na(ave_delay))%>%
ggplot(aes(x=factor(month),y=dest))+
geom_tile(aes(fill=ave_delay))
ggplot(diamonds,aes(x=carat,y=price))+
geom_boxplot(aes(group=cut_number(price,10)))
ggplot(diamonds,aes(x=price,y=carat))+
geom_boxplot(aes(group=cut_number(price,10)))
ggplot(diamonds,aes(x=price,y=carat))+
geom_lv(aes(group=cut_number(price,10)))
ggplot(diamonds,aes(x=price,y=carat))+
geom_boxplot(aes(group=cut_number(price,10)))
ggplot(diamonds,aes(x=carat,y=price))+
geom_boxplot(aes(group=cut_number(carat,10)))
ggplot(diamonds,aes(x=carat,y=price))+
geom_boxplot(aes(group=cut_width(carat,10)))
ggplot(diamonds,aes(x=carat,y=price))+
geom_boxplot(aes(group=cut_width(carat,0.2)))
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(MASS)
library(ISLR)
library(tidyverse)
diamonds
library(readr)
library(MASS)
library(ISLR)
library(tidyverse)
diamonds
movie=read_csv("/Users/fanyiyang/Desktop/UNC/Course/Stor320/Final\ Project/Highest\ Holywood\ Grossing\ Movies.csv",col_names=T )
movie=read_csv("/Users/fanyiyang/Desktop/UNC/Course/Stor320/Final\ Project/Highest\ Holywood\ Grossing\ Movies.csv",col_names=T )
glimpse(movie)
is.na(movie)
movie%>%
filter(is.na())
movie%>%
filter(is.na(Title))
movie%>%
filter(is.na(Title))
setwd("Stor 320")
setwd("~/Desktop/UNC/Course/Stor320/Final Project")
movie%>%
filter(is.na(Title))
write_scv(movie,"movie.csv")
movie%>%
filter(is.na(Title))
write_csv(movie,"movie.csv")
DATA=tibble(
x,~y,~z,
"a",2,3,5,
"b",1,8,5
)
DATA=tibble(
~x,~y,~z,
"a",2,3,5,
"b",1,8,5
)
DATA=tribble(
~x,~y,~z,
"a",2,3,5,
"b",1,8,5
)
DATA=tribble(
~x,~y,~z,
"a",2,3.6,
"b",1,8.5
)
DATA
DATA=tribble(
~x,~y,~z,
"a",2,3.6,
"b",1,8.5
)
DATA$x
DATA=tribble(
~x,~y,~z,
"a",2,3.6,
"b",1,8.5
)
DATA$x
DATA[["y"]]
DATA=tribble(
~x,~y,~z,
"a",2,3.6,
"b",1,8.5
)
DATA$x
DATA[["y"]]
DATA[,c("x",":(")]
library(rvest)
knitr::opts_chunk$set(echo = TRUE,warning=F)
options(scipen=999)
library(tidyverse)    #Essential Functions
library(rvest)        #Read Tables From Webpages
#install.packages("devtools")
library(devtools)
install_github("cran/noncensus",force=TRUE)
library(noncensus)    #Contains Zip Codes for US Cities
knitr::opts_chunk$set(echo = TRUE,warning=F)
options(scipen=999)
library(tidyverse)    #Essential Functions
library(rvest)        #Read Tables From Webpages
#install.packages("devtools")
library(devtools)
#install_github("cran/noncensus",force=TRUE)
library(noncensus)    #Contains Zip Codes for US Cities
URL.VIOLENT="https://en.wikipedia.org/wiki/List_of_United_States_cities_by_crime_rate#Crime_rates_per_100.2C000_people_.282012.29"
VIOLENT = URL.VIOLENT %>%
read_html() %>%
html_table(fill=T) %>%
.[[1]]
str(VIOLENT)
View(VIOLENT)
VIOLENT2=VIOLENT[-1,1:8]
colnames(VIOLENT2)=c("State","City","Population","Total","Murder","Rape","Robbery","Assault")
str(VIOLENT2)
VIOLENT2=VIOLENT[-1,1:8]
colnames(VIOLENT2)=c("State","City","Population","Total","Murder","Rape","Robbery","Assault")
str(VIOLENT2)
VIOLENT3=VIOLENT2 %>%
mutate_at(3:8,str_replace_all,pattern=",",replacement="") %>%
mutate_at(3:8,as.numeric)
str(VIOLENT3)
library(rvest)
anime.URL="https://myanimelist.net/topanime.php?type=tv"
anime=anime.URL%>%
read_html()%>%
html_table()
View(anime)
library(rvest)
anime.URL="https://myanimelist.net/topanime.php?type=tv"
anime=anime.URL%>%
read_html()%>%
html_table()%>%
.[[1]]
library(rvest)
anime.URL="https://myanimelist.net/topanime.php?type=tv"
anime=anime.URL%>%
read_html()%>%
html_table()%>%
.[[1]]
anime
View(anime)
DATA=tribble(
~x,~y,~`:(`,
"a",2,3.6,
"b",1,8.5
)
DATA$x
DATA[["y"]]
DATA=tribble(
~x,~y,~`:(`,
"a",2,3.6,
"b",1,8.5
)
DATA$x
DATA[["y"]]
DATA[[`:(`]]
DATA=tribble(
~x,~y,~`:(`,
"a",2,3.6,
"b",1,8.5
)
DATA$x
DATA[["y"]]
DATA[[:(]]
DATA=tribble(
~x,~y,~`:(`,
"a",2,3.6,
"b",1,8.5
)
DATA$x
DATA[["y"]]
DATA[[":("]]
flight.summary =
#1
flights %>%
#2
mutate(
dep_min       = (dep_time%/%100)*60+dep_time%%100,
sched_dep_min = (sched_dep_time%/%100)*60+sched_dep_time%%100,
arr_min       = (arr_time%/%100)*60+arr_time%%100,
sched_arr_min = (sched_arr_time%/%100)*60+sched_arr_time%%100,
dep_delay_min = dep_min-sched_dep_min,
arr_delay_min = arr_min-sched_arr_min,
accuracy      = sqrt(dep_delay^2+arr_delay^2)
) %>%
#3
filter(!is.na(accuracy)) %>%
#4
group_by(origin,dest,carrier) %>%
#5
summarize(
count=n(),
mean.acc=mean(accuracy,na.rm=T),
var.acc=var(accuracy,na.rm=T),
mean.dist=mean(distance,na.rm=T)
) %>%
#6
filter(count>10) %>%
#7
ungroup() %>%
#8
mutate(proportion=count/sum(count))
head(flight.summary) #DO NOT CHANGE THIS LINE OF CODE
options(scipen=999)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
salary2=salary%>%
select(Name,dept,position,hiredate,exempt,totalsal)
options(scipen=999)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
salary=read_csv("UNC_System_Salaries Search and Report.csv")
names(salary)
str(salary,give.attr=F) #give.attr: whether to show the attribues as sub structures
salary$hiredate=as.Date(salary$hiredate, format="%m/%d/%Y")
salary$hiredate=as.numeric(gsub("-","",salary$hiredate))
salary=as.tibble(salary)
head(salary,5)
salary2=salary%>%
select(Name,dept,position,hiredate,exempt,totalsal)
salary=read_csv("UNC_System_Salaries Search and Report.csv")
salary$hiredate=as.Date(salary$hiredate, format="%m/%d/%Y")
salary$hiredate=as.numeric(gsub("-","",salary$hiredate))
salary=as.tibble(salary)
head(salary,5)
salary2=salary%>%
select(Name,dept,position,hiredate,exempt,totalsal)
View(salary)
